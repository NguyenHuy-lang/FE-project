<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Collecting Data</title>
    <script src="https://www.gstatic.com/firebasejs/9.0.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.0.1/firebase-storage.js"></script>

<script>
  // Your web app's Firebase configuration
  var firebaseConfig = {
    apiKey: "AIzaSyCrhXy6MadW640N6mB-e3cGmL5u3s8aL6s",
    authDomain: "hdvnhom8.firebaseapp.com",
    databaseURL: "https://hdvnhom8-default-rtdb.firebaseio.com",
    projectId: "hdvnhom8",
    storageBucket: "hdvnhom8.appspot.com",
    messagingSenderId: "321095979248",
    appId: "1:321095979248:web:fa7f40b6b5eda17e9af235",
    measurementId: "G-REPQT5RB2Z"
  };

  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);

  // Get a reference to the storage service, which is used to create references in your storage bucket
  var storage = firebase.storage();

  // Function to upload file
  function uploadFile() {
    // Get file
    var file = document.getElementById("fileUpload").files[0];

    // Create a storage reference
    var storageRef = storage.ref();

    // Upload file
    var uploadTask = storageRef.child('files/' + file.name).put(file);

    // Listen for state changes, errors, and completion of the upload
    uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED, 
      function(snapshot) {
        // Get upload progress
        var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
        console.log('Upload is ' + progress + '% done');
      }, 
      function(error) {
        // Handle errors here
        console.log('Error uploading file: ' + error.message);
      }, 
      function() {
        // Handle successful upload here
        console.log('File uploaded successfully');
      }
    );
  }
</script>
</head>

<body class="container" style="margin-top: 50px; width: 50%; height:auto; ">
             <input type="file" id="fileUpload">

             <button onclick="uploadFile()">Upload</button>
</body>
</html>